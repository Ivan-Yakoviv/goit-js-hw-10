{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector(\"input\");\nconst btn = document.querySelector(\"button\");\nconst days = document.querySelector(\"span[data-days]\");\nconst hours = document.querySelector(\"span[data-hours]\");\nconst minutes = document.querySelector(\"span[data-minutes]\");\nconst seconds = document.querySelector(\"span[data-seconds]\");\n\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] < new Date()) {\n      iziToast.show({\n        message: \"Please choose a date in the future\", position: 'topCenter', backgroundColor: 'red', messageColor: 'white', messageSize: '16'\n      });\n        btn.disabled = true;\n    } else {\n        userSelectedDate = selectedDates[0] - new Date(); \n        btn.disabled = false;\n    }\n    },\n};\n\nflatpickr(input, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\nbtn.addEventListener('click', startCountdown);\n\nfunction startCountdown() {\n  btn.disabled = true; \n  btn.style.background = '#CFCFCF';\n  btn.style.color = '#989898'\n  input.disabled = true; \n\n    const timerId = setInterval(() => {\n        if (userSelectedDate >= 999) {\n        btn.disabled = true;    \n        userSelectedDate -= 1000;\n        let timeObject = convertMs(userSelectedDate);\n        padStart(timeObject);\n        } else {\n            btn.disabled = false;\n        };\n    }, 1000); \n\n};\n\nfunction padStart(event){\n    days.textContent = event.days;\n    hours.textContent = event.hours;\n    minutes.textContent = event.minutes;\n    seconds.textContent = event.seconds;\n};"],"names":["input","btn","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","convertMs","ms","startCountdown","timeObject","padStart","event"],"mappings":"2GASA,MAAMA,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAM,SAAS,cAAc,QAAQ,EACrCC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAE3D,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAI,IAAI,MACzBC,EAAS,KAAK,CACZ,QAAS,qCAAsC,SAAU,YAAa,gBAAiB,MAAO,aAAc,QAAS,YAAa,IAC1I,CAAO,EACCR,EAAI,SAAW,KAEfK,EAAmBE,EAAc,CAAC,EAAI,IAAI,KAC1CP,EAAI,SAAW,GAElB,CACL,EAEAS,EAAUV,EAAOO,CAAO,EAExB,SAASI,EAAUC,EAAI,CAQrB,MAAMV,EAAO,KAAK,MAAMU,EAAK,KAAG,EAE1BT,EAAQ,KAAK,MAAOS,EAAK,MAAO,IAAI,EAEpCR,EAAU,KAAK,MAAQQ,EAAK,MAAO,KAAQ,GAAM,EAEjDP,EAAU,KAAK,MAASO,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAJ,EAAI,iBAAiB,QAASY,CAAc,EAE5C,SAASA,GAAiB,CACxBZ,EAAI,SAAW,GACfA,EAAI,MAAM,WAAa,UACvBA,EAAI,MAAM,MAAQ,UAClBD,EAAM,SAAW,GAEC,YAAY,IAAM,CAC9B,GAAIM,GAAoB,IAAK,CAC7BL,EAAI,SAAW,GACfK,GAAoB,IACpB,IAAIQ,EAAaH,EAAUL,CAAgB,EAC3CS,EAASD,CAAU,CAC3B,MACYb,EAAI,SAAW,EAE3B,EAAO,GAAI,CAEX,CAEA,SAASc,EAASC,EAAM,CACpBd,EAAK,YAAcc,EAAM,KACzBb,EAAM,YAAca,EAAM,MAC1BZ,EAAQ,YAAcY,EAAM,QAC5BX,EAAQ,YAAcW,EAAM,OAChC"}